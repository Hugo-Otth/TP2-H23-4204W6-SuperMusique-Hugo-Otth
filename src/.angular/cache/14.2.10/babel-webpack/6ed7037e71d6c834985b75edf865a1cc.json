{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/1968678/Desktop/TP2-H23-4204W6-SuperMusique-Hugo-Otth/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/spotify.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\n\nfunction ArtistsComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"img\", 7);\n    i0.ɵɵelementStart(4, \"a\", 8)(5, \"button\");\n    i0.ɵɵtext(6, \"Albums\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"button\");\n    i0.ɵɵtext(8, \"Concerts\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const a_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(a_r2.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", a_r2.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", a_r2.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"/albums/\", a_r2.name, \"\", i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ArtistsComponent_button_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ArtistsComponent_button_13_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.spotify.clearFavorites());\n    });\n    i0.ɵɵtext(1, \"Vider la liste\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class ArtistsComponent {\n  constructor(spotify) {\n    this.spotify = spotify;\n    this.artistName = \"\";\n    this.jsonData = null;\n  }\n\n  ngOnInit() {\n    this.spotify.connect();\n    this.spotify.getFavorites();\n  }\n\n  getArtist() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.artist = yield _this.spotify.searchArtist(_this.artistName);\n\n      _this.spotify.addFavArtist(_this.artist);\n    })();\n  }\n\n}\n\nArtistsComponent.ɵfac = function ArtistsComponent_Factory(t) {\n  return new (t || ArtistsComponent)(i0.ɵɵdirectiveInject(i1.SpotifyService));\n};\n\nArtistsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ArtistsComponent,\n  selectors: [[\"app-artists\"]],\n  decls: 14,\n  vars: 3,\n  consts: [[1, \"row\"], [1, \"search\"], [\"type\", \"text\", \"name\", \"artistName\", \"placeholder\", \"Nom de l'artiste\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [1, \"display\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\", 4, \"ngIf\"], [3, \"src\", \"alt\"], [3, \"href\"]],\n  template: function ArtistsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\");\n      i0.ɵɵtext(3, \"Ajouter un artiste\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\")(5, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function ArtistsComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.artistName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function ArtistsComponent_Template_button_click_6_listener() {\n        return ctx.getArtist();\n      });\n      i0.ɵɵtext(7, \"Rechercher\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(8, \"div\", 4)(9, \"h3\");\n      i0.ɵɵtext(10, \"Vos artistes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 0);\n      i0.ɵɵtemplate(12, ArtistsComponent_div_12_Template, 9, 4, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(13, ArtistsComponent_button_13_Template, 2, 0, \"button\", 6);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.artistName);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.spotify.favoriteArtists);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.spotify.favoriteArtists.length > 0);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\".search[_ngcontent-%COMP%]{\\r\\n    flex:1;\\r\\n}\\r\\n\\r\\n.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{\\r\\n    width:100%;\\r\\n    margin-bottom:5px;\\r\\n}\\r\\n\\r\\n.display[_ngcontent-%COMP%]{\\r\\n    flex:3;\\r\\n}\\r\\n\\r\\n.display[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{\\r\\n    gap:7px;\\r\\n}\\r\\n\\r\\n.display[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{\\r\\n    margin:0px 0px 5px 0px;\\r\\n}\\r\\n\\r\\n.display[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{\\r\\n    flex-basis: 29.5%;\\r\\n    text-align:center;\\r\\n    border:lightgray 1px solid;\\r\\n}\\r\\n\\r\\n.display[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{\\r\\n    width:100%;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydGlzdHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0E7Ozs7Q0FJQzs7QUFFRDtJQUNJLE1BQU07QUFDVjs7QUFFQTtJQUNJLFVBQVU7SUFDVixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxNQUFNO0FBQ1Y7O0FBRUE7SUFDSSxPQUFPO0FBQ1g7O0FBRUE7SUFDSSxzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsaUJBQWlCO0lBQ2pCLDBCQUEwQjtBQUM5Qjs7QUFFQTtJQUNJLFVBQVU7QUFDZCIsImZpbGUiOiJhcnRpc3RzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLypcclxu4paI4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paIXHJcbuKWiCBQYWdlIGFydGlzdGUgc2V1bGVtZW50IOKWiFxyXG7ilojiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTilohcclxuKi9cclxuXHJcbi5zZWFyY2h7XHJcbiAgICBmbGV4OjE7XHJcbn1cclxuXHJcbi5zZWFyY2ggaW5wdXR7XHJcbiAgICB3aWR0aDoxMDAlO1xyXG4gICAgbWFyZ2luLWJvdHRvbTo1cHg7XHJcbn1cclxuXHJcbi5kaXNwbGF5e1xyXG4gICAgZmxleDozO1xyXG59XHJcblxyXG4uZGlzcGxheSAucm93e1xyXG4gICAgZ2FwOjdweDtcclxufVxyXG5cclxuLmRpc3BsYXkgaDR7XHJcbiAgICBtYXJnaW46MHB4IDBweCA1cHggMHB4O1xyXG59XHJcblxyXG4uZGlzcGxheSAucm93PmRpdntcclxuICAgIGZsZXgtYmFzaXM6IDI5LjUlO1xyXG4gICAgdGV4dC1hbGlnbjpjZW50ZXI7XHJcbiAgICBib3JkZXI6bGlnaHRncmF5IDFweCBzb2xpZDtcclxufVxyXG5cclxuLmRpc3BsYXkgLnJvdz5kaXY+aW1ne1xyXG4gICAgd2lkdGg6MTAwJTtcclxufVxyXG4iXX0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAaYA,4BAA+C,CAA/C,EAA+C,IAA/C;IACQA;IAAUA;IACdA;IACAA,6BAA6B,CAA7B,EAA6B,QAA7B;IAAsCA;IAAMA;IAAaA;IAAQA;IAAQA;;;;;IAFrEA;IAAAA;IACCA;IAAAA;IAAqBA;IACvBA;IAAAA;;;;;;;;IAIXA;IAAmDA;MAAAA;MAAA;MAAA,OAASA,+CAAT;IAAiC,CAAjC;IAAmCA;IAAcA;;;;ACX5G,OAAM,MAAOC,gBAAP,CAAuB;EAM3BC,YAAmBC,OAAnB,EAA2C;IAAxB;IAJnB,kBAAsB,EAAtB;IAEA,gBAA2B,IAA3B;EAEgD;;EAEhDC,QAAQ;IACN,KAAKD,OAAL,CAAaE,OAAb;IACA,KAAKF,OAAL,CAAaG,YAAb;EACD;;EACKC,SAAS;IAAA;;IAAA;MACb,KAAI,CAACC,MAAL,SAAoB,KAAI,CAACL,OAAL,CAAaM,YAAb,CAA0B,KAAI,CAACC,UAA/B,CAApB;;MACA,KAAI,CAACP,OAAL,CAAaQ,YAAb,CAA0B,KAAI,CAACH,MAA/B;IAFa;EAGd;;AAf0B;;;mBAAhBP,kBAAgBD;AAAA;;;QAAhBC;EAAgBW;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT7BhB,+BAAiB,CAAjB,EAAiB,KAAjB,EAAiB,CAAjB,EAAiB,CAAjB,EAAiB,IAAjB;MAEYA;MAAkBA;MACtBA,6BAAM,CAAN,EAAM,OAAN,EAAM,CAAN;MACWA;QAAA;MAAA;MAAPA;MACAA;MAAQA;QAAA,OAASiB,eAAT;MAAoB,CAApB;MAAsBjB;MAAUA;MAIhDA,+BAAqB,CAArB,EAAqB,IAArB;MACQA;MAAYA;MAChBA;MAEIA;MAMJA;MACAA;MACJA;;;;MAjBeA;MAAAA;MASYA;MAAAA;MAOdA;MAAAA","names":["i0","ArtistsComponent","constructor","spotify","ngOnInit","connect","getFavorites","getArtist","artist","searchArtist","artistName","addFavArtist","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\1968678\\Desktop\\TP2-H23-4204W6-SuperMusique-Hugo-Otth\\src\\app\\artists\\artists.component.html","C:\\Users\\1968678\\Desktop\\TP2-H23-4204W6-SuperMusique-Hugo-Otth\\src\\app\\artists\\artists.component.ts"],"sourcesContent":["<div class=\"row\">\r\n    <div class=\"search\">\r\n        <h3>Ajouter un artiste</h3>\r\n        <form>\r\n            <input [(ngModel)] = \"artistName\" type=\"text\" name=\"artistName\" placeholder=\"Nom de l'artiste\" >\r\n            <button (click)=\"getArtist()\">Rechercher</button>\r\n            \r\n        </form>\r\n    </div>\r\n    <div class=\"display\">\r\n        <h3>Vos artistes</h3>\r\n        <div class=\"row\">\r\n            <!-- Liste d'artistes ajoutés aux favoris -->\r\n            <div *ngFor=\"let a of spotify.favoriteArtists\">\r\n                <h4>{{a.name}}</h4>\r\n                <img src=\"{{a.imageUrl}}\" alt=\"{{a.name}}\">\r\n                <a href=\"/albums/{{a.name}}\"><button >Albums</button></a><button>Concerts</button>\r\n            </div>\r\n\r\n        </div>\r\n        <button *ngIf=\"spotify.favoriteArtists.length > 0\" (click)=\"spotify.clearFavorites()\">Vider la liste</button>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Artist } from '../models/artist';\r\nimport { SpotifyService } from '../services/spotify.service';\r\n\r\n@Component({\r\n  selector: 'app-artists',\r\n  templateUrl: './artists.component.html',\r\n  styleUrls: ['./artists.component.css']\r\n})\r\nexport class ArtistsComponent implements OnInit {\r\n  \r\n  artistName : string = \"\";\r\n  artist ?: Artist;\r\n  jsonData : string | null = null;\r\n\r\n  constructor(public spotify : SpotifyService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.spotify.connect();\r\n    this.spotify.getFavorites();\r\n  }\r\n  async getArtist() : Promise<void>{\r\n    this.artist = await this.spotify.searchArtist(this.artistName);\r\n    this.spotify.addFavArtist(this.artist);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
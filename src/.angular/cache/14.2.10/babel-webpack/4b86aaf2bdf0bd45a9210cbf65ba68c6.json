{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/1968678/Desktop/TP2-H23-4204W6-SuperMusique-Hugo-Otth/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/spotify.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nfunction AlbumsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"img\", 3);\n    i0.ɵɵelementStart(4, \"a\", 4)(5, \"button\");\n    i0.ɵɵtext(6, \"Chansons\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const a_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(a_r1.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", a_r1.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"/songs/\", a_r1.id, \"\", i0.ɵɵsanitizeUrl);\n  }\n}\n\nexport class AlbumsComponent {\n  constructor(spotify, route) {\n    this.spotify = spotify;\n    this.route = route;\n    this.artistName = null;\n    this.albums = [];\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.spotify.connect();\n      _this.artistName = _this.route.snapshot.paramMap.get(\"artistName\");\n\n      _this.getAlbums();\n    })();\n  }\n\n  getAlbums() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.artist = yield _this2.spotify.searchArtist(_this2.artistName);\n      _this2.albums = yield _this2.spotify.getAlbums(_this2.artist);\n    })();\n  }\n\n}\n\nAlbumsComponent.ɵfac = function AlbumsComponent_Factory(t) {\n  return new (t || AlbumsComponent)(i0.ɵɵdirectiveInject(i1.SpotifyService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nAlbumsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AlbumsComponent,\n  selectors: [[\"app-albums\"]],\n  decls: 6,\n  vars: 2,\n  consts: [[1, \"row\"], [1, \"albums\"], [4, \"ngFor\", \"ngForOf\"], [\"alt\", \"album 1\", 3, \"src\"], [3, \"href\"]],\n  template: function AlbumsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\");\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 0);\n      i0.ɵɵtemplate(5, AlbumsComponent_div_5_Template, 7, 3, \"div\", 2);\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Albums de l'artiste \", ctx.artistName, \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.albums);\n    }\n  },\n  dependencies: [i3.NgForOf],\n  styles: [\".albums[_ngcontent-%COMP%]{\\r\\n    flex:3;\\r\\n}\\r\\n\\r\\n.albums[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{\\r\\n    gap:7px;\\r\\n}\\r\\n\\r\\n.albums[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{\\r\\n    margin:0px 0px 5px 0px;\\r\\n}\\r\\n\\r\\n.albums[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{\\r\\n    flex-basis: 22.2%;\\r\\n    text-align:center;\\r\\n    border:lightgray 1px solid;\\r\\n}\\r\\n\\r\\n.albums[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{\\r\\n    width:100%;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsYnVtcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTs7OztDQUlDOztBQUVEO0lBQ0ksTUFBTTtBQUNWOztBQUVBO0lBQ0ksT0FBTztBQUNYOztBQUVBO0lBQ0ksc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLGlCQUFpQjtJQUNqQiwwQkFBMEI7QUFDOUI7O0FBRUE7SUFDSSxVQUFVO0FBQ2QiLCJmaWxlIjoiYWxidW1zLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLypcclxu4paI4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paA4paIXHJcbuKWiCAgUGFnZSBhbGJ1bSBzZXVsZW1lbnQgIOKWiFxyXG7ilojiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTiloTilohcclxuKi9cclxuXHJcbi5hbGJ1bXN7XHJcbiAgICBmbGV4OjM7XHJcbn1cclxuXHJcbi5hbGJ1bXMgLnJvd3tcclxuICAgIGdhcDo3cHg7XHJcbn1cclxuXHJcbi5hbGJ1bXMgaDR7XHJcbiAgICBtYXJnaW46MHB4IDBweCA1cHggMHB4O1xyXG59XHJcblxyXG4uYWxidW1zIC5yb3c+ZGl2e1xyXG4gICAgZmxleC1iYXNpczogMjIuMiU7XHJcbiAgICB0ZXh0LWFsaWduOmNlbnRlcjtcclxuICAgIGJvcmRlcjpsaWdodGdyYXkgMXB4IHNvbGlkO1xyXG59XHJcblxyXG4uYWxidW1zIC5yb3c+ZGl2PmltZ3tcclxuICAgIHdpZHRoOjEwMCU7XHJcbn1cclxuIl19 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAMYA,4BAA8B,CAA9B,EAA8B,IAA9B;IACQA;IAAUA;IACdA;IACAA,6BAA0B,CAA1B,EAA0B,QAA1B;IAAkCA;IAAQA;;;;;IAFtCA;IAAAA;IACCA;IAAAA;IACFA;IAAAA;;;;ACEnB,OAAM,MAAOC,eAAP,CAAsB;EAE1BC,YAAmBC,OAAnB,EAAoDC,KAApD,EAA0E;IAAvD;IAAiC;IAEpD,kBAA6B,IAA7B;IAEA,cAAmB,EAAnB;EAJ+E;;EAMzEC,QAAQ;IAAA;;IAAA;MACZ,MAAM,KAAI,CAACF,OAAL,CAAaG,OAAb,EAAN;MACA,KAAI,CAACC,UAAL,GAAkB,KAAI,CAACH,KAAL,CAAWI,QAAX,CAAoBC,QAApB,CAA6BC,GAA7B,CAAiC,YAAjC,CAAlB;;MACA,KAAI,CAACC,SAAL;IAHY;EAIb;;EAEKA,SAAS;IAAA;;IAAA;MACb,MAAI,CAACC,MAAL,SAAoB,MAAI,CAACT,OAAL,CAAaU,YAAb,CAA0B,MAAI,CAACN,UAA/B,CAApB;MACA,MAAI,CAACO,MAAL,SAAoB,MAAI,CAACX,OAAL,CAAaQ,SAAb,CAAuB,MAAI,CAACC,MAA5B,CAApB;IAFa;EAGd;;AAjByB;;;mBAAfX,iBAAeD;AAAA;;;QAAfC;EAAec;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDX5BnB,+BAAiB,CAAjB,EAAiB,KAAjB,EAAiB,CAAjB,EAAiB,CAAjB,EAAiB,IAAjB;MAEYA;MAAkCA;MACtCA;MAGIA;MAMJA;;;;MAVIA;MAAAA;MAImBA;MAAAA","names":["i0","AlbumsComponent","constructor","spotify","route","ngOnInit","connect","artistName","snapshot","paramMap","get","getAlbums","artist","searchArtist","albums","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\1968678\\Desktop\\TP2-H23-4204W6-SuperMusique-Hugo-Otth\\src\\app\\albums\\albums.component.html","C:\\Users\\1968678\\Desktop\\TP2-H23-4204W6-SuperMusique-Hugo-Otth\\src\\app\\albums\\albums.component.ts"],"sourcesContent":["<div class=\"row\">\r\n    <div class=\"albums\">\r\n        <h3>Albums de l'artiste {{artistName}}</h3>\r\n        <div class=\"row\">\r\n\r\n            <!-- Liste d'albums d'un artiste choisi -->\r\n            <div *ngFor=\"let a of albums\">\r\n                <h4>{{a.name}}</h4>\r\n                <img src=\"{{a.imageUrl}}\" alt=\"album 1\">\r\n                <a href=\"/songs/{{a.id}}\"><button>Chansons</button></a>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>","import { Artist } from './../models/artist';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Album } from '../models/album';\r\nimport { SpotifyService } from '../services/spotify.service';\r\n\r\n@Component({\r\n  selector: 'app-albums',\r\n  templateUrl: './albums.component.html',\r\n  styleUrls: ['./albums.component.css']\r\n})\r\nexport class AlbumsComponent implements OnInit {\r\n\r\n  constructor(public spotify : SpotifyService, public route : ActivatedRoute) { }\r\n  \r\n  artistName : string | null = null;\r\n  artist ?: Artist;\r\n  albums : Album[] = [];\r\n\r\n  async ngOnInit() {\r\n    await this.spotify.connect();\r\n    this.artistName = this.route.snapshot.paramMap.get(\"artistName\");\r\n    this.getAlbums();\r\n  }\r\n\r\n  async getAlbums() : Promise<void>{\r\n    this.artist = await this.spotify.searchArtist(this.artistName!);\r\n    this.albums = await this.spotify.getAlbums(this.artist);\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}